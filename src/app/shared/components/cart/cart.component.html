<ng-container *ngIf="cartProducts$ | async as cartProducts">
  <div class="cart-overlay" (click)="onClose()"></div>
  <div class="cart">
    <div class="cart__top">
      <span>Your Cart [{{ cartProducts.length }}]</span>
      <button type="button" (click)="onClose()"><ng-icon class="close-btn" name="heroXMark"></ng-icon></button>
    </div>
    <div class="cart__content">
      <ng-container *ngIf="cartProducts.length > 0; else emptyCart">
        <!-- Product -->
        <div class="product" *ngFor="let product of cartProducts">
          <img [src]="'assets/images/' + product.imgSrc" alt="" />
          <div class="product__details">
            <div class="product__details-name">{{ product.name }}</div>
            <div class="product__details-price">{{ product.price | currency }}</div>
            <cof-quantity [qty]="product.quantity" (onUpdateQty)="updateQty($event, product)"></cof-quantity>
          </div>
        </div>
      </ng-container>
      <ng-template #emptyCart>
        <div class="empty-cart">Your shopping cart is empty</div>
      </ng-template>
    </div>
    <div class="cart__bottom">
      <div class="cart__bottom-total">
        <span>Subtotal</span>
        <span *ngIf="cartSubTotal$ | async as cartSubTotal">{{ cartSubTotal | currency }}</span>
      </div>
      <button type="button" class="cart__bottom-chkbtn">Checkout</button>
    </div>
  </div>
</ng-container>
